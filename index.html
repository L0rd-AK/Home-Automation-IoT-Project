<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Home Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p>Connecting to Smart Home...</p>
        </div>
    </div>

    <!-- Login Form -->
    <div id="loginForm" class="login-container">
        <div class="login-card">
            <div class="login-header">
                <i class="fas fa-home"></i>
                <h1>Smart Home Hub</h1>
                <p>Access your connected devices</p>
            </div>
            <div class="login-form">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" placeholder="Enter your password" required>
                </div>
                <button id="loginBtn" class="login-btn">
                    <i class="fas fa-sign-in-alt"></i>
                    Login to Dashboard
                </button>
                <div class="login-info">
                    <p><strong>Demo Credentials:</strong></p>
                    <p>Email: amit@gmail.com</p>
                    <p>Password: amit1234</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboard" class="dashboard">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-home"></i>
                    <h1>Smart Home Hub</h1>
                </div>
                <div class="header-status">
                    <div class="status-item">
                        <i class="fas fa-wifi" id="wifiIcon"></i>
                        <span id="wifiStatus">Connected</span>
                    </div>
                    <div class="status-item">
                        <i class="fas fa-database" id="firebaseIcon"></i>
                        <span id="firebaseStatus">Online</span>
                    </div>
                    <div class="status-item">
                        <i class="fas fa-clock"></i>
                        <span id="currentTime">--:--</span>
                    </div>
                    <button id="logoutBtn" class="logout-btn">
                        <i class="fas fa-sign-out-alt"></i>
                        Logout
                    </button>
                </div>
            </div>
            <!-- Main Content -->
            <main class="main-content">
                <!-- System Overview -->
                <section class="overview-section">
                    <h2><i class="fas fa-chart-line"></i> System Overview</h2>
                    <div class="overview-grid">
                        <div class="overview-card">
                            <div class="card-icon temperature">
                                <i class="fas fa-thermometer-half"></i>
                            </div>
                            <div class="card-content">
                                <h3>Temperature</h3>
                                <div class="metric" id="overviewTemp">--°C</div>
                                <small class="status" id="tempStatus">Normal</small>
                            </div>
                        </div>
                        <div class="overview-card">
                            <div class="card-icon humidity">
                                <i class="fas fa-tint"></i>
                            </div>
                            <div class="card-content">
                                <h3>Humidity</h3>
                                <div class="metric" id="overviewHumidity">--%</div>
                                <small class="status">Comfortable</small>
                            </div>
                        </div>
                        <div class="overview-card">
                            <div class="card-icon light">
                                <i class="fas fa-sun"></i>
                            </div>
                            <div class="card-content">
                                <h3>Light Level</h3>
                                <div class="metric" id="overviewLight">--</div>
                                <small class="status" id="lightStatus">Bright</small>
                            </div>
                        </div>
                        <div class="overview-card">
                            <div class="card-icon motion">
                                <i class="fas fa-walking"></i>
                            </div>
                            <div class="card-content">
                                <h3>Motion</h3>
                                <div class="metric" id="overviewMotion">Clear</div>
                                <small class="status">No activity</small>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Device Controls -->
                <section class="controls-section">
                    <h2><i class="fas fa-sliders-h"></i> Device Controls</h2>
                    <div class="controls-grid">
                        <!-- Test LED Control -->
                        <div class="control-card">
                            <div class="card-header">
                                <div class="device-icon">
                                    <i class="fas fa-circle" id="ledIcon"></i>
                                </div>
                                <div class="device-info">
                                    <h3>Test LED</h3>
                                    <p class="device-status" id="ledStatus">Off</p>
                                </div>
                                <div class="device-toggle">
                                    <button id="testLedBtn" class="control-btn off">
                                        <i class="fas fa-power-off"></i>
                                        <span>Turn On</span>
                                    </button>
                                </div>
                            </div>
                            <div class="card-content">
                                <p>Use this LED to test Firebase connectivity and device control.</p>
                            </div>
                        </div>

                        <!-- Light Control -->
                        <div class="control-card">
                            <div class="card-header">
                                <div class="device-icon">
                                    <i class="fas fa-lightbulb" id="lightIcon"></i>
                                </div>
                                <div class="device-info">
                                    <h3>Smart Light</h3>
                                    <p class="device-status" id="status3">Off</p>
                                </div>
                                <div class="device-toggle">
                                    <button id="btn3" class="control-btn off">
                                        <i class="fas fa-power-off"></i>
                                        <span>Turn On</span>
                                    </button>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="automation-controls">
                                    <h4>LDR Auto Light Controller</h4>
                                    <button id="btn1" class="automation-btn">
                                        <i class="fas fa-sun"></i>
                                        <span>Enable Auto Light</span>
                                    </button>
                                    <p>Automatically control light based on ambient light level</p>
                                </div>
                            </div>
                        </div>

                        <!-- Motion Light -->
                        <div class="control-card">
                            <div class="card-header">
                                <div class="device-icon">
                                    <i class="fas fa-walking" id="motionLightIcon"></i>
                                </div>
                                <div class="device-info">
                                    <h3>Motion Light</h3>
                                    <p class="device-status" id="status4">Off</p>
                                </div>
                                <div class="device-toggle">
                                    <button id="btn4" class="control-btn off">
                                        <i class="fas fa-power-off"></i>
                                        <span>Turn On</span>
                                    </button>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="automation-controls">
                                    <h4>Motion Light Controller</h4>
                                    <button id="btn2" class="automation-btn">
                                        <i class="fas fa-walking"></i>
                                        <span>Enable Motion Light</span>
                                    </button>
                                    <p>Automatically control light based on motion detection</p>
                                </div>
                            </div>
                        </div>

                        <!-- Motor Control -->
                        <div class="control-card motor-card">
                            <div class="card-header">
                                <div class="device-icon">
                                    <i class="fas fa-fan" id="motorIcon"></i>
                                </div>
                                <div class="device-info">
                                    <h3>DC Fan Motor</h3>
                                    <div class="motor-status-badge" id="motorStatus">
                                        <i class="fas fa-circle"></i>
                                    </div>
                                </div>
                                <div class="device-toggle">
                                    <button id="motorToggle" class="toggle-btn off">
                                        <i class="fas fa-power-off"></i>
                                        <span id="motorToggleText">OFF</span>
                                    </button>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="motor-controls">
                                    <!-- Speed Control -->
                                    <div class="speed-control">
                                        <h4>Speed Control</h4>
                                        <div class="speed-slider-container">
                                            <input type="range" min="0" max="255" value="0" 
                                                  id="speedSlider" class="speed-slider" title="Motor Speed">
                                            <div class="speed-display">
                                                <span id="speedValue">0</span>%
                                            </div>
                                        </div>
                                        <div class="speed-presets">
                                            <button class="preset-btn" data-speed="64">25%</button>
                                            <button class="preset-btn" data-speed="128">50%</button>
                                            <button class="preset-btn" data-speed="192">75%</button>
                                            <button class="preset-btn" data-speed="255">100%</button>
                                        </div>
                                    </div>

                                    <!-- Direction Control -->
                                    <div class="direction-control">
                                        <h4>Direction Control</h4>
                                        <button id="motorDirection" class="direction-btn">
                                            <i class="fas fa-arrow-right"></i>
                                            <span id="directionText">Forward</span>
                                        </button>
                                    </div>

                                    <!-- Emergency Stop -->
                                    <div class="emergency-control">
                                        <button id="motorStopBtn" class="emergency-btn">
                                            <i class="fas fa-stop"></i>
                                            Emergency Stop
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Sensor Monitoring -->
                <section class="sensors-section">
                    <h2><i class="fas fa-satellite-dish"></i> Sensor Monitoring</h2>
                    <div class="sensors-grid">
                        <!-- Temperature & Humidity -->
                        <div class="sensor-card" id="temperatureSensorCard">
                            <div class="sensor-header">
                                <div class="sensor-icon">
                                    <i class="fas fa-thermometer-half"></i>
                                </div>
                                <h3>Temperature & Humidity (DHT11)</h3>
                                <div class="sensor-status-badge" id="dhtStatusBadge">
                                    <i class="fas fa-circle"></i>
                                </div>
                            </div>
                            <div class="sensor-content">
                                <div class="sensor-readings">
                                    <div class="reading">
                                        <span class="value" id="tempValue">--</span>
                                        <span class="unit">°C</span>
                                    </div>
                                    <div class="reading">
                                        <span class="value" id="humidityValue">--</span>
                                        <span class="unit">%</span>
                                    </div>
                                </div>
                                <div class="sensor-chart">
                                    <div class="chart-container">
                                        <div class="chart-bar" id="tempChart"></div>
                                        <div class="chart-bar" id="humidityChart"></div>
                                    </div>
                                </div>
                                <p class="sensor-description" id="dhtDescription">
                                    Temperature and humidity monitoring for comfort control
                                </p>
                            </div>
                        </div>

                        <!-- Light Sensor -->
                        <div class="sensor-card" id="ldrSensorCard">
                            <div class="sensor-header">
                                <div class="sensor-icon">
                                    <i class="fas fa-sun"></i>
                                </div>
                                <h3>Light Sensor (LDR)</h3>
                                <div class="sensor-status-badge" id="ldrStatusBadge">
                                    <i class="fas fa-circle"></i>
                                </div>
                            </div>
                            <div class="sensor-content">
                                <div class="sensor-readings">
                                    <div class="reading">
                                        <span class="value" id="ldrValue">--</span>
                                        <span class="unit">lux</span>
                                    </div>
                                </div>
                                <div class="light-indicator" id="lightIndicator">
                                    <div class="light-level-bar">
                                        <div class="light-level-fill" id="ldrChart"></div>
                                    </div>
                                </div>
                                <p class="sensor-description" id="ldrDescription">
                                    Enable "LDR Auto Light" to activate monitoring
                                </p>
                            </div>
                        </div>

                        <!-- Motion Sensor -->
                        <div class="sensor-card" id="pirSensorCard">
                            <div class="sensor-header">
                                <div class="sensor-icon">
                                    <i class="fas fa-walking"></i>
                                </div>
                                <h3>Motion Sensor (PIR)</h3>
                                <div class="sensor-status-badge" id="pirStatusBadge">
                                    <i class="fas fa-circle"></i>
                                </div>
                            </div>
                            <div class="sensor-content">
                                <div class="motion-status" id="motionStatus">
                                    <div class="motion-indicator" id="motionIndicator">
                                        <div class="motion-wave"></div>
                                        <div class="motion-wave"></div>
                                        <div class="motion-wave"></div>
                                    </div>
                                    <span class="motion-text" id="pirValue">No Motion</span>
                                </div>
                                <p class="sensor-description" id="pirDescription">
                                    Enable "Motion Light" to activate monitoring
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="sensors-controls">
                        <button class="refresh-btn" onclick="refreshSensors()">
                            <i class="fas fa-sync-alt"></i>
                            Refresh Sensors
                        </button>
                    </div>
                </section>

                <!-- Notifications -->
                <section class="notifications-section">
                    <h2><i class="fas fa-bell"></i> System Notifications</h2>
                    <div class="notifications-container">
                        <div class="notifications-header">
                            <span class="notifications-count" id="notificationCount">0 notifications</span>
                            <button class="clear-btn" onclick="clearNotifications()">
                                <i class="fas fa-trash"></i> Clear All
                            </button>
                        </div>
                        <div class="notifications-list" id="notificationsList">
                            <!-- Notifications will be dynamically added here -->
                        </div>
                    </div>
                </section>

                <!-- Emergency Controls -->
                <section class="emergency-section">
                    <h2><i class="fas fa-exclamation-triangle"></i> Emergency Controls</h2>
                    <div class="emergency-controls">
                        <button id="allOffBtn" class="emergency-btn large">
                            <i class="fas fa-power-off"></i>
                            Turn Off All Devices
                        </button>
                        <p>Immediately turn off all connected devices and motors</p>
                    </div>
                </section>
            </main>
        </header>
    </div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    
    <!-- Custom JavaScript -->
    <script src="script.js"></script>
</body>
</html>